(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e22c4"],{"7e22":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-card",{staticClass:"add-form"},[a("div",{attrs:{slot:"header"},slot:"header"},["editChapters"==e.routename?a("h3",[e._v("\n      Chapter Edit Form\n    ")]):e._e(),"addChapters"==e.routename?a("h3",[e._v("\n      Chapter Add Form\n    ")]):e._e()]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Name",name:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"level",autocomplete:"",label:"Level"},on:{change:function(t){return e.onChange1()}},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},e._l(e.levels,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.id,text:e.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("level"),expression:"errors.has('level')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("level")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"category",autocomplete:"",label:"Category"},on:{change:function(t){return e.onChange2()}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.categories,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e._id,text:e.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"subject",autocomplete:"",label:"Subject"},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}},e._l(e.subjects,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e._id,text:e.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("subject"),expression:"errors.has('subject')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("subject")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("quill-editor",{model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]),a("div",{staticClass:"vx-row",style:{marginTop:"10px"}},[a("div",{staticClass:"vx-col w-full"},[a("vs-button",{staticClass:"mr-3 mb-2",on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("Save")]),a("vs-button",{staticClass:"mb-2",attrs:{color:"warning",type:"border"},on:{click:function(t){e.name=e.level=e.category=e.subject=""}}},[e._v("Reset")])],1)])])},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),o=a("2f62"),i=a("69ca"),c=(a("a753"),a("8096"),a("14e1"),a("953d")),l=a("897c");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={data:function(){return{levels:[],name:"",level:"",category:"",categories:[],subjectID:"",subjects:[],subject:"",content:"chapter summary"}},computed:d({},Object(o["b"])({user:function(e){return e.admin.user.user._id}}),{routename:function(){return this.$router.currentRoute.name}}),components:{quillEditor:c["quillEditor"]},methods:{submitForm:function(){var e=this;this.$validator.validateAll().then((function(t){if(t){if("editChapters"==e.routename){var a={chapterID:e.chapterID,name:e.name,levelID:e.level,userID:e.user,categoryID:e.category,subjectID:e.subject,content:e.content};return i["a"].editChapter(a).then((function(t){"successfully updated"==t.data.message?(e.$vs.notify({title:t.data.message,color:"success",position:"top-right"}),setTimeout((function(){e.$router.push("/admin/category-courses/chapters")}),500)):"This Chapter has already existed!"==t.data.message&&e.$vs.notify({title:t.data.message,color:"warning",position:"top-right"})}))}if("addChapters"==e.routename){var s={name:e.name,levelID:e.level,userID:e.user,categoryID:e.category,subjectID:e.subject,content:e.content};return i["a"].addChapter(s).then((function(t){"Successfully Added"==t.data.message?(e.$vs.notify({title:t.data.message,color:"success",position:"top-right"}),setTimeout((function(){e.$router.push("/admin/category-courses/chapters")}),500)):"This Chapter has already existed!"==t.data.message&&e.$vs.notify({title:t.data.message,color:"warning",position:"top-right"})}))}}}))},onChange1:function(){var e=this;this.$store.dispatch(l["i"],this.level).then((function(t){return e.categories=t.data}))},onChange2:function(){var e=this;this.$store.dispatch(l["b"],this.category).then((function(t){return e.subjects=t.data}))}},created:function(){var e=this;if(this.$store.dispatch(l["e"]).then((function(t){e.items=t.data;var a=[];e.items.map((function(e){"activated"==e.status&&a.push({id:e._id,name:e.name})})),e.levels=a}),(function(e){console.log(e)})),"editChapters"==this.routename){var t=this.$router.currentRoute.params.id;return i["a"].getChapterById(t).then((function(t){e.chapterID=t.data._id,e.name=t.data.name,e.status=t.data.status,e.level=t.data.level,e.category=t.data.category,e.subject=t.data.subject,e.content=t.data.content}),(function(e){console.log(e)}))}}},m=v,h=a("2877"),p=Object(h["a"])(m,s,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e22c4.c0b5105e.js.map