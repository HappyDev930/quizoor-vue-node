(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-379fc8be"],{"3a86":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-card",{staticClass:"add-form"},[a("div",{attrs:{slot:"header"},slot:"header"},["editSubjects"==e.routename?a("h3",[e._v("\n      Subject Edit Form\n    ")]):e._e(),"addSubjects"==e.routename?a("h3",[e._v("\n      Subject Add Form\n    ")]):e._e()]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Name",name:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"level",autocomplete:"",label:"Level"},on:{change:function(t){return e.onChange()}},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},e._l(e.levels,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.id,text:e.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("level"),expression:"errors.has('level')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("level")))])],1),a("div",{staticClass:"vx-col  w-full mb-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{name:"category",autocomplete:"",label:"Category"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.categories,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e._id,text:e.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("category"),expression:"errors.has('category')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("category")))])],1)]),a("div",{staticClass:"vx-row",style:{marginTop:"10px"}},[a("div",{staticClass:"vx-col w-full"},[a("vs-button",{staticClass:"mr-3 mb-2",on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("Save")]),a("vs-button",{staticClass:"mb-2",attrs:{color:"warning",type:"border"},on:{click:function(t){e.name=e.level=e.category=""}}},[e._v("Reset")])],1)])])},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),o=a("2f62"),i=a("69ca"),c=a("897c");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={data:function(){return{levels:[],name:"",level:"",category:"",categories:[],subjectID:""}},computed:u({},Object(o["b"])({user:function(e){return e.admin.user.user._id}}),{routename:function(){return this.$router.currentRoute.name}}),methods:{submitForm:function(){var e=this;this.$validator.validateAll().then((function(t){if(t){if("editSubjects"==e.routename){var a={subjectID:e.subjectID,name:e.name,levelID:e.level,userID:e.user,categoryID:e.category};return i["a"].editSubject(a).then((function(t){"successfully updated"==t.data.message?(e.$vs.notify({title:t.data.message,color:"success",position:"top-right"}),setTimeout((function(){e.$router.push("/admin/category-courses/subjects")}),500)):"This Subject has already existed!"==t.data.message&&e.$vs.notify({title:t.data.message,color:"warning",position:"top-right"})}))}if("addSubjects"==e.routename){var r={name:e.name,levelID:e.level,userID:e.user,categoryID:e.category};return i["a"].addSubject(r).then((function(t){"Successfully Added"==t.data.message?(e.$vs.notify({title:t.data.message,color:"success",position:"top-right"}),setTimeout((function(){e.$router.push("/admin/category-courses/subjects")}),500)):"This Subject has already existed!"==t.data.message&&e.$vs.notify({title:t.data.message,color:"warning",position:"top-right"})}))}}}))},onChange:function(){var e=this;this.$store.dispatch(c["i"],this.level).then((function(t){return e.categories=t.data}))}},created:function(){var e=this;if(this.$store.dispatch(c["e"]).then((function(t){e.items=t.data;var a=[];e.items.map((function(e){"activated"==e.status&&a.push({id:e._id,name:e.name})})),e.levels=a}),(function(e){console.log(e)})),"editSubjects"==this.routename){var t=this.$router.currentRoute.params.id;return i["a"].getSubjectById(t).then((function(t){e.subjectID=t.data._id,e.name=t.data.name,e.status=t.data.status,e.level=t.data.level,e.category=t.data.category}),(function(e){console.log(e)}))}}},d=v,m=a("2877"),f=Object(m["a"])(d,r,s,!1,null,null,null);t["default"]=f.exports},"456d":function(e,t,a){var r=a("4bf8"),s=a("0d58");a("5eda")("keys",(function(){return function(e){return s(r(e))}}))},"5eda":function(e,t,a){var r=a("5ca1"),s=a("8378"),n=a("79e5");e.exports=function(e,t){var a=(s.Object||{})[e]||Object[e],o={};o[e]=t(a),r(r.S+r.F*n((function(){a(1)})),"Object",o)}},"8e6e":function(e,t,a){var r=a("5ca1"),s=a("990b"),n=a("6821"),o=a("11e9"),i=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,a,r=n(e),c=o.f,l=s(r),u={},v=0;while(l.length>v)a=c(r,t=l[v++]),void 0!==a&&i(u,t,a);return u}})},"990b":function(e,t,a){var r=a("9093"),s=a("2621"),n=a("cb7c"),o=a("7726").Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(n(e)),a=s.f;return a?t.concat(a(e)):t}},f1ae:function(e,t,a){"use strict";var r=a("86cc"),s=a("4630");e.exports=function(e,t,a){t in e?r.f(e,t,s(0,a)):e[t]=a}}}]);
//# sourceMappingURL=chunk-379fc8be.61e83bcd.js.map